<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SAML-LDAP Bridge - Credentials</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />

    <script>
      function copyToClipboard(text) {
        navigator.clipboard.writeText(text);

        const statusBox = document.getElementById("status-message");
        if (statusBox) {
          statusBox.innerText = "Password copied to clipboard!";
          statusBox.className = "success";
        }
      }
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Authentication Successful</h1>

      <div id="status-message" class="info">
        Welcome, {{ user_info.username or user_info.display_name or 'User' }}!
      </div>

      <p>
        Your temporary LDAP credentials expire at:<br />
        <strong>{{ credentials.expires_at }}</strong>
      </p>

      <div class="credentials-box">
        <strong>Password:</strong> {{ credentials.password }}
      </div>

      <button
        class="btn"
        onclick="copyToClipboard('{{ credentials.password }}')"
      >
        Copy Password
      </button>

      <div style="margin-top: 15px">
        <a href="/demo" class="btn">Login</a>
        <a href="/logout" class="btn btn-danger">Reauthenticate</a>
      </div>
    </div>
  </body>
</html>
