<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SAML-LDAP Bridge - System Status</title>
  </head>
  <body>
    <h1>System Status</h1>

    <div class="card">
      <h2>Service Status</h2>
      <div class="status-good">âœ… SAML-LDAP Bridge is running</div>
      <table>
        <tr>
          <td><strong>Status:</strong></td>
          <td>{{ status.status }}</td>
        </tr>
        <tr>
          <td><strong>Active Credentials:</strong></td>
          <td>{{ status.active_credentials }}</td>
        </tr>
        <tr>
          <td><strong>Last Updated:</strong></td>
          <td>{{ status.timestamp | timestamp_to_date }}</td>
        </tr>
      </table>
    </div>

    <div class="card">
      <h2>Configuration</h2>
      <table>
        <tr>
          <td><strong>SAML SP Entity ID:</strong></td>
          <td>{{ status.configuration.saml_sp_entity_id }}</td>
        </tr>
        <tr>
          <td><strong>SAML IdP Entity ID:</strong></td>
          <td>{{ status.configuration.saml_idp_entity_id }}</td>
        </tr>
        <tr>
          <td><strong>eduMFA Integration:</strong></td>
          <td>
            {{ 'Enabled' if status.configuration.edumfa_configured else
            'Disabled' }}
          </td>
        </tr>
        <tr>
          <td><strong>LDAP Server:</strong></td>
          <td>
            {{ status.configuration.ldap_host }}:{{
            status.configuration.ldap_port }}
          </td>
        </tr>
      </table>
    </div>

    <div class="card">
      <h2>Actions</h2>
      <a href="/" class="btn">Back to Login</a>
      {% if session.get('authenticated') %}
      <a href="/credentials" class="btn">View Credentials</a>
      <a href="/demo" class="btn">Test LDAP</a>
      {% endif %}
    </div>
  </body>
</html>
